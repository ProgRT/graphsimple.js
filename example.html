<!DOCTYPE html>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="graphsimple.js" charset="utf-8"></script>
<script src="https://rawgit.com/ProgRT/simvent.js/master/simvent.js" charset="utf-8"></script>

<link rel="stylesheet" type="text/css" href="css/graphsimple-clear.css" charset="utf-8"/>

<style>
	body {
		text-align:center;
	}
	.square {
		width:400px;
		height:400px;
	}
	.half {
		width:600px;
		height:200px;
		border:1px dashed gray;
	}

</style>

<svg id="svg1"  class="square surface"></svg>
<br/>
<svg id="svg2" class="half surface"></svg>

<script>
	var lung = new sv.SygLung();
	var ventilator = new sv.PVCurve();	
	var data = ventilator.ventilate(lung);
//	data = data.timeData.filter(function(d,i){return d[i].Palv > d[i-1].Palv});
	data = data.timeData.filter(function(d,i){return true});

	gs.graph("#svg1")
		.setscale(data, function(d){return d.time}, function(d){return d.Palv})
		.tracer(data, function(d){return d.time}, function(d){return d.Palv});
</script>
<script>

	gs.quickGraph("#svg2", data, function(d){return d.Palv}, function(d){return d.Vt});
</script>
