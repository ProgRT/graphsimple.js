<!DOCTYPE html>
<meta charset="utf-8"/>

<script src="d3.v3.min.js" charset="utf-8"></script>

<style>
@import 'css/gs.css';
body {
	box-sizing: border-box;
	padding: none;
	margin-top: none;
}

html {
	box-sizing: border-box;
	height: 100%;
	padding: 0px;
	margin: 0px;
}

svg.gs {
	display: block;
	width: 100vw;
	height: 25vh;
	margin-left: auto;
	margin-right: auto;
}
</style>

<body>
    Allo, le monde!

<script type=module>

	import {PressureControler} from 'https://progrt.github.io/simvent.js/src/simvent-ventilators.js';
	import {SimpleLung} from 'https://progrt.github.io/simvent.js/src/simvent-lungs.js';
	import { graph } from '../graphsimple.js';

	const graphParam = {
		padH: .25,
		margeG: 80,
		margeB: 30,
		margeH: 10,
    //    autoScale: true
	};

	var vent = new PressureControler({PEEP: 10, Fconv: 40});
	var lung = new SimpleLung();
	var data = vent.ventilate(lung).timeData;

	const fx = d=>d.time;
	const fy = d=>d.Flung;


	var gr = new graph(null, graphParam);
	gr.setscale(data, fx, fy)
		.tracer(data, fx, fy)
		.setidy('Pao');

</script>
</body>
